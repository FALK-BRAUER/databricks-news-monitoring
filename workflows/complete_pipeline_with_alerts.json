{
  "name": "News Monitoring - Complete Pipeline + CTO Alerts",
  "email_notifications": {
    "on_failure": ["falk.brauer@me.com"]
  },
  "timeout_seconds": 0,
  "max_concurrent_runs": 1,
  "tasks": [
    {
      "task_key": "bronze_ingest_rss",
      "description": "Ingest RSS feeds (14 sources)",
      "notebook_task": {
        "notebook_path": "/Users/flk.brauer@gmail.com/news-monitoring/rss_feeds.py",
        "source": "WORKSPACE"
      },
      "timeout_seconds": 0
    },
    {
      "task_key": "silver_transform",
      "description": "Transform and enrich data",
      "depends_on": [{"task_key": "bronze_ingest_rss"}],
      "notebook_task": {
        "notebook_path": "/Users/flk.brauer@gmail.com/news-monitoring/silver_layer.py",
        "source": "WORKSPACE"
      },
      "timeout_seconds": 0
    },
    {
      "task_key": "gold_aggregate",
      "description": "Create analytics tables",
      "depends_on": [{"task_key": "silver_transform"}],
      "notebook_task": {
        "notebook_path": "/Users/flk.brauer@gmail.com/news-monitoring/gold_layer.py",
        "source": "WORKSPACE"
      },
      "timeout_seconds": 0
    },
    {
      "task_key": "detect_opportunities",
      "description": "Detect CTO/VP opportunities",
      "depends_on": [{"task_key": "silver_transform"}],
      "notebook_task": {
        "notebook_path": "/Users/flk.brauer@gmail.com/news-monitoring/cto_opportunity_detector.py",
        "source": "WORKSPACE"
      },
      "timeout_seconds": 0
    },
    {
      "task_key": "send_daily_digest",
      "description": "Send daily opportunity email",
      "depends_on": [{"task_key": "detect_opportunities"}],
      "notebook_task": {
        "notebook_path": "/Users/flk.brauer@gmail.com/news-monitoring/daily_digest.py",
        "source": "WORKSPACE"
      },
      "timeout_seconds": 0
    }
  ],
  "schedule": {
    "quartz_cron_expression": "0 0 8 * * ?",
    "timezone_id": "Europe/Berlin",
    "pause_status": "UNPAUSED"
  },
  "format": "MULTI_TASK"
}
